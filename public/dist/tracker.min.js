(()=>{"use strict";var t=function(t,e,r){var n=t[e];return function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return r.apply(null,a),n.apply(t,a)}},e=function(){var t=window,e=t.doNotTrack,r=t.navigator,n=t.external,a="msTrackingProtectionEnabled",o=e||r.doNotTrack||r.msDoNotTrack||n&&a in n&&n[a]();return"1"==o||"yes"===o},r=function(){var t,e=document.getElementsByTagName("body")[0];return e&&((t=document.createElement("div")).setAttribute("class","ads ad adsbox doubleclick ad-placement carbon-ads"),t.setAttribute("style","height:1px;width:1px;position: absolute;left:-999px;top:-999px;"),t.textContent="&nbsp;",e.appendChild(t)),!!t&&0===t.offsetHeight},n=navigator&&navigator.cookieEnabled||!!document.cookie;function a(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}!function(o){var i=o.screen,l=o.navigator,u=l.language,s=l.platform,f=o.location,d=f.hostname,p=f.pathname,y=f.search,v=o.document,b=o.history,h=v.querySelector("script");if(h){var g=h.getAttribute.bind(h),m=g("data-tracker-id");if(!m)throw new Error("data-tracker-id not found");var w=g("data-server-url");if(!w)throw new Error("data-server-url not found");var O=g("data-metrics")?JSON.parse(g("data-metrics")):{},S=/^kibanalytics--([a-z]+)--([\w]+[\w-]*)$/,j={},k="".concat(p).concat(y),A=v.referrer,E=function(){return{tracker_id:m,hostname:d,url:k}},x=function(){return c(c({},E()),{},{referrer:A,platform:s,screen:"".concat(i.width,"x").concat(i.height),language:u,adBlock:r(),cookies:n})},P=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e()){var a="".concat(w,"/collect"),o={type:t,metrics:O,payload:r};return n?navigator.sendBeacon(a,JSON.stringify(o)):fetch(a,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(o),credentials:"include"})}},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"custom",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=!!r&&"A"===r.tagName,a="page-view"!==t||r?c(c({},E()),{},{data:e}):x();P(t,a,n)},T=function(t){var e=t.querySelectorAll("[class*='kibanalytics--']");Array.prototype.forEach.call(e,D)},D=function(t){var e,r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=a(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,i=t},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw i}}}}(null===(e=t.getAttribute("class"))||void 0===e?void 0:e.split(" "));try{var o=function(){var e=r.value;if(!S.test(e))return"continue";var n,o,i=(n=e.split("--"),o=3,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(n,o)||a(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=(i[0],i[1]),l=i[2],u=j[e];u||(u=j[e]?j[e]:function(){return N(c,l,t)},j[e]=u),t.addEventListener(c,u,!0)};for(n.s();!(r=n.n()).done;)o()}catch(t){n.e(t)}finally{n.f()}},I=function(t,e,r){if(r){A=k;var n=r.toString();(k="http"===n.substring(0,4)?"/"+n.split("/").splice(3).join("/"):n)!==A&&N("pageView")}};if(o.kibanalytics||(o.kibanalytics={trackEvent:N}),!e()){b.pushState=t(b,"pushState",I),b.replaceState=t(b,"replaceState",I);var B=function(){"complete"===v.readyState&&(N("page-view"),T(v),new MutationObserver((function(t){t.forEach((function(t){var e=t.target;D(e),T(e)}))})).observe(v,{childList:!0,subtree:!0}))};v.addEventListener("readystatechange",B,!0),B()}}}(window)})();